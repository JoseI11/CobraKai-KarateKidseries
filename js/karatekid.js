
//Array de preguntas y respuestas
const arrayKarateKidpregunta =  [
    {
        pregunta: "¿En que ciudad Daniel y su madre vivian antes de mudarse a la ciudad de Los Angeles?",
        a: "Boston",
        b: "Newark",
        c: "Orlando",
        correcta: "b",
        orden: 1,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿Porque Daniel y su madre dejan la ciudad de Newark para ir a vivir a la ciudad de Los Angeles?",
        a: "Porque debían dinero y tenian que irse de la ciudad",
        b: "Porque tenian familia alli y querian vivir cerca de ellos",
        c: "Porque la madre de Daniel habia conseguido trabajo alli",
        correcta: "c",
        orden: 2,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿En que lugar Daniel y Ali se conocieron por primera vez?",
        a: "En un bar",
        b: "En el parque de diversiones",
        c: "En una fiesta en la playa",
        correcta: "c",
        orden: 3,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿Cuales eran los nombres de los amigos de Johnny mientras este entrenaba en el dojo de Cobra Kai?",
        a: "Eric,Thomas,Craig,Spencer",
        b: "Tommy, Jimmy, Dutch, Bobby",
        c: "Alex, Rick, Joseph, Henry",
        correcta: "b",
        orden: 4,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿Porque Daniel decidio no ser parte del dojo de Cobra Kai cuando estaba buscando un lugar donde aprender karate para poder defenderse?",
        a: "Porque Johnny y sus amigos pertenecían a el",
        b: "Porque vivía muy lejos del dojo",
        c: "Por el costo que debía pagar por mes",
        correcta: "a",
        orden: 5,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿Cual son los principios que el dojo Cobra Kai defiende?",
        a: "Tolerar a los demás , Respetar a los demás e Igualdad",
        b: "Responsabilidad, Orden, Perseverancia",
        c: "Golpear primero, Golpear duro, Sin piedad",
        correcta: "c",
        orden: 6,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿Quien fue la persona que enseño al señor Miyagi karate?",
        a: "Su padre",
        b: "Su hermano mayor",
        c: "Su abuelo",
        correcta: "a",
        orden: 7,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿Cuales son las 2 reglas que rigen el estilo Miyagi Do karate?",
        a: "Golpear duro, Golpear primero",
        b: "El Karate es solo para la defensa, primero aprender la regla anterior",
        c: "Respetar a tu oponente, Trabajar duro",
        correcta: "b",
        orden: 8,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿Cual fue la primera lección que Daniel recibió al empezar a practicar Miyagi Do karate?",
        a: "Comprender la filosofía del mismo",
        b: "Agregar cera con mano derecha, quitar cera con mano izquierda",
        c: "Concentrarse en la potencia y velocidad de uno mismo",
        correcta: "b",
        orden: 9,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿Cual fue la orden que Johnny recibió de su sensei durante el combate final contra Daniel?",
        a: "Que debia atacar la pierna que uno de sus amigos había dañado en el combate anterior",
        b: "Que debia concentrarse en el combate",
        c: "Que debia no escuchar los abucheos que recibia",
        correcta: "a",
        orden: 10,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿Cual fue la técnica con la cual Daniel vence a Johnny en el combate final del torneo?",
        a: "Patada de la grulla",
        b: "Patada frontal",
        c: "Golpe descendente con el talon",
        correcta: "a",
        orden: 11,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿Cual es el apellido de la persona que enseño a Daniel karate?",
        a: "Okada",
        b: "Yamamoto",
        c: "Miyagi",
        correcta: "c",
        orden: 12,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿Cual era el nombre del lugar en donde Ali y Daniel tuvieron su primera cita?",
        a: "Little Tokio",
        b: "Golf N Stuff",
        c: "Oue Skyspace",
        correcta: "b",
        orden: 13,
        saga: "Karate Kid"
    },
    {
        pregunta: "¿En el transcurso de la pelicula cuantos alumnos el señor Miyagi acepta entrenar?",
        a: "1",
        b: "3",
        c: "5",
        correcta: "a",
        orden: 14,
        saga: "Karate Kid"
    },
    {
        pregunta: "En que vehiculo Daniel iba a su escuela desde el complejo de departamentos donde vivía?",
        a: "Motocicleta",
        b: "Auto",
        c: "Bicicleta",
        correcta: "c",
        orden: 15,
        saga: "Karate Kid"
    },
    ///////////////////////PREGUNTAS KARATE KID II///////////////////////////////////////////////

    {
        pregunta: "¿Cual era el mensaje de la carta que el señor Miyagi recibió mientras este recibía a Daniel en  su casa para pasar el verano?",
        a: "Que había heredado una fortuna de su abuelo",
        b: "Que debía más seguido a su madre",
        c: "Que su padre estaba terminalmente enfermo",
        correcta: "c",
        orden: 16,
        saga: "Karate Kid II"
    },
    {
        pregunta: "¿A que ciudad de Japon el señor Miyagi viajo junto con Daniel para visitar a su padre enfermo?",
        a: "Tokio",
        b: "Osaka",
        c: "Okinawa",
        correcta: "c",
        orden: 17,
        saga: "Karate Kid II"
    },
    {
        pregunta: "¿Cual fue el motivo por el cual el señor Miyagi abandono Japón para vivir en Estados Unidos?",
        a: "Debido a que debía mucho dinero y lo estaban persiguiendo",
        b: "Porque se enamoro de una mujer la cual tenía un matrimonio arreglado con su mejor amigo, por lo cual su mejor amigo lo desafió a un duelo a muerte y debido a ese motivo decidió irse de Japón",
        c: "Porque había perdido una pelea en donde el perdedor debía abandonar Japón",
        correcta: "b",
        orden: 18,
        saga: "Karate Kid II"

    },
    {
        pregunta: "¿Quién fue la persona la cual recibió al señor Miyagi y a Daniel cuando estos llegaron a Okinawa?",
        a: "Sato",
        b: "Yukie",
        c: "Chozen",
        correcta: "c",
        orden: 19,
        saga: "Karate Kid II"
    },
    {
        pregunta: "¿Cual es la relación que comparten Sato y el señor Miyagi?",
        a: "Ambos eran amigos muy cercanos",
        b: "Ambos eran vecinos",
        c: "Ambos eran amigos y estudiantes de karate en donde el padre del señor Miyagi era el maestro",
        correcta: "c",
        orden: 20,
        saga: "Karate Kid II"

    },
    {
        pregunta: "¿Quienes reciben al señor Miyagi y Daniel cuando estos llegan a la aldea Tomi en Okinawa?",
        a: "Chozen y Sato",
        b: "Yuki y su nieta Kumiko",
        c: "La madre del señor Miyagi",
        correcta: "b",
        orden: 21,
        saga: "Karate Kid II"
    },
    {
        pregunta: "¿Con que instrumento el señor Miyagi muestra a Daniel el secreto de la familia Miyagi?",
        a: "Koto (una clase de citara japonesa)",
        b: "Shakuhachi (una flauta de bambu proveniente de China)",
        c: "Den-den daiko (una clase de tambor japones)",
        correcta: "c",
        orden: 22,
        saga: "Karate Kid II"
    },
    {
        pregunta: "¿Cual es el motivo por el cual Chozen empieza a atacar e insultar a Daniel?",
        a: "Porque Daniel estaba con Kumiko y Chozen estaba enamorado de ella",
        b: "Porque Daniel lo había insultado",
        c: "Porque Daniel había desenmascarado la estafa que Chozen y sus amigos le estaban haciendo a los habitantes de la aldea Tomi",
        correcta: "c",
        orden: 23,
        saga: "Karate Kid II"

    },
    {
        pregunta: "¿Cuantas tablas de hielo Daniel debia romper para poder ganar la apuesta que Chozen había hecho en su contra?",
        a: "Seis tablas",
        b: "Una tabla",
        c: "Tres tablas",
        correcta: "a",
        orden: 24,
        saga: "Karate Kid II"

    },
    {
        pregunta: "¿Cual fue la cantidad de dinero que el señor Miyagi aposto a favor de Daniel para la apuesta que Chozen había realizado y que dejo atónitos a los demás apostadores?",
        a: "600 dólares",
        b: "100 dólares",
        c: "1000 dólares",
        correcta: "a",
        orden: 25,
        saga: "Karate Kid II"

    },
    {
        pregunta: "¿En la noche que la aldea Tomi era azotada por un tifón, quien era la persona la cual estaba en lo más alto de una poste de luz que Daniel ayudado más tarde por Sato salvo?",
        a: "Un anciano",
        b: "Una niña",
        c: "Una mujer",
        correcta: "b",
        orden: 26,
        saga: "Karate Kid II"
    },
    {
        pregunta: "¿Que fue lo que Sato le dijo a Chozen luego de que este vio como Daniel arriesgaba su vida para salvar a una persona y que no decidiera ir a ayudarlo?",
        a: "Ahora para ti, yo estoy muerto",
        b: "Debes pensar en el otro",
        c: "Debiste ayudarlo sin importar nada",
        correcta: "a",
        orden: 27,
        saga: "Karate Kid II"

    },
    {
        pregunta: "¿Que es lo que hizo Sato el dia después del tifón luego de que el señor Miyagi le salvara la vida y ver la valentía de Daniel frente al rescate de la niña?",
        a: "Decidió irse de la aldea",
        b: "Reto al señor Miyagi nuevamente a una pelea",
        c: "Decidio ayudar a reconstruir la aldea, y luego pidió perdón a Miyagi por la disputa que había creado entre ellos",
        correcta: "c",
        orden: 28,
        saga: "Karate Kid II"
    },
    {
        pregunta: "¿Cual fue el motivo por el cual Daniel pelea a muerte contra un deshonrado Chozen en la parte final de la película?",
        a: "Por el honor",
        b: "Porque ambos se odiaban a muerte",
        c: "Para evitar que Chozen mate a Kumiko si no peleaban",
        correcta: "c",
        orden: 29,
        saga: "Karate Kid II"
    },
    {
        pregunta: "¿Cual fue la técnica con la cual Daniel derrota a Chozen?",
        a: "La patada de la grulla",
        b: "Patada frontal",
        c: "La técnica del tambor",
        correcta: "c",
        orden: 30,
        saga: "Karate Kid II"

    },
    ///////////////////////////PREGUNTAS KARATE KID III///////////
    {
        pregunta: "¿Cuales son las palabras finales del señor Miyagi luego de intervenir en la discusión que estaban teniendo el sensei de Cobra Kai con sus alumnos?",
        a: "Que el sensei debia haber discutido con sus alumnos lo sucedido en su dojo",
        b: "Que el sensei debió haberles hablado a sus alumnos con una mejor disposición para que estos pudieran comprender los errores que cometieron el torneo",
        c: "Que una persona que no perdona, el vivir es peor castigo que la muerte",
        correcta: "c",
        orden: 31,
        saga: "Karate Kid III"
    },
    {
        pregunta: "¿Desde que año a que año el sensei de Cobra Kai John Kreese fue campeon de karate dentro del ejercito de los EE UU?",
        a: "1967-1969",
        b: "1970-1972",
        c: "1980-1982",
        correcta: "b",
        orden: 32,
        saga: "Karate Kid III"
    },
    {
        pregunta: "¿Cual es nombre del mejor amigo de John Kreese?",
        a: "Jordan Miles",
        b: "Paul Phoenix",
        c: "Terry Silver",
        correcta: "c",
        orden: 33,
        saga: "Karate Kid III"
    },

    {
        pregunta: "¿A que lugar John Kreese viaja luego de que se encuentra con su viejo amigo cofundador del dojo Cobra Kai?",
        a: "Hawai",
        b: "Tahiti",
        c: "Borneo",
        correcta: "b",
        orden: 34,
        saga: "Karate Kid III"
    },
    {
        pregunta: "Daniel recibio de su madre dinero para inscribirse en la universidad;¿Que termino haciendo Daniel con ese dinero?",
        a: "Lo uso para inscribirse en la universidad",
        b: "Lo uso para comprar el alquiler de un local para vender bonsais",
        c: "Lo decidio guardar para un automovil",
        correcta: "b",
        orden: 35,
        saga: "Karate Kid III"
    },
    {
        pregunta: "¿Que es lo que tenia pensado hacer Terry con Daniel y Miyagi para tomar venganza por la humillación a su amigo John?",
        a: "Contratar sicarios para que los mataran",
        b: "Hacer que los secuestren y torturarlos el mismo",
        c: "Hacer que Daniel sienta dolor y miedo y de esta manera hacer sufrir a Miyagi",
        correcta: "c",
        orden: 36,
        saga: "Karate Kid III"
    },
    {
        pregunta: "¿Cual era el apodo por el cual se lo conocía al peleador (Mike Barnes) que Terry contrata como parte de su plan contra Daniel y Miyagi?",
        a: "Ace Degenerate",
        b: "The Invincible Dragon",
        c: "Karate's Bad Boy",
        correcta: "c",
        orden: 37,
        saga: "Karate Kid III"
    },
    {
        pregunta: "¿Cual es el nombre del maestro que enseño artes marciales a Terry y John?",
        a: "Jhun Hoon",
        b: "Kim Kapwhan",
        c: "Kim Sun-Yung",
        correcta: "c",
        orden: 38,
        saga: "Karate Kid III"
    },
    {
        pregunta: "¿Cual es el nombre del lugar en donde el señor Miyagi menciona que esta plantado el unico bonsai que crecia de forma salvaje?",
        a: "Gran cañon",
        b: "Caldero del diablo",
        c: "Tundra espesa",
        correcta: "b",
        orden: 39,
        saga: "Karate Kid III"
    },
    {
        pregunta: "¿Cual es el nombre de la amiga que Daniel hace cuando este va al local donde esta trabaja ,para comprar maceteros para los bonsais?",
        a: "Ali",
        b: "Jessica",
        c: "Kumiko",
        correcta: "b",
        orden: 40,
        saga: "Karate Kid III"

    },
    {
        pregunta: "¿Cual es el porcentaje de los ingresos de los dojos Cobra Kai que Mike pidio a Terry para cerrar el trato?",
        a: "70%",
        b: "50%",
        c: "25%",
        correcta: "b",
        orden: 41,
        saga: "Karate Kid III"
    },

    {
        pregunta: "¿Cual fue la razón por la cual Daniel comienza a entrenar en el dojo de Cobra Kai?",
        a: "Debido a que necesitaba aprender a atacar",
        b: "Porque Miyagi habia decidido no entrenarlo para el torneo",
        c: "Porque Silver lo invito a unirse",
        correcta: "b",
        orden: 42,
        saga: "Karate Kid III"
    },
    {
        pregunta: "Cuales son las tres reglas del metodo Quick Silver que Terry creo y que uso para entrenar a Daniel",
        a: "Golpear primero, Golpear fuerte, Sin piedad",
        b: "Analizar al oponente, planear una estrategia y atacar con seguridad",
        c: "Un hombre que no puede mantenerse de pie no puede pelear, un hombre que no puede respirar no puede pelear,un hombre que no puede ver no puede pelear",
        correcta: "c",

        orden: 43,
        saga: "Karate Kid III"
    },
    {
        pregunta: "Cual es el motivo por el cual el señor Miyagi decide finalmente entrenar a Daniel para el torneo",
        a: "Porque Daniel se lo pidio hasta el cansancio",
        b: "Porque que Daniel defendiera su titulo de campeon",
        c: "Debido a que pudo conocer el plan de Silver de crear una grieta entre la relación entre el y Daniel y de esta manera poder reparar la misma",
        correcta: "c",
        orden: 44,
        saga: "Karate Kid III"
    },
    {
        pregunta: "¿Cuales fueron las palabras que el señor Miyagi le dio a Daniel para que este pueda levantarse luego de quedar muy golpeado previamente al final del combate por el titulo que se iba a definir por muerte subita(el primero que obtenia el punto era el campeon)?",
        a: "Este no es el final, no debes rendirte",
        b: "Permanece centrado, tu mejor karate esta dentro tuyo, ahora dejalo salir",
        c: "Debes seguir luchando, no dejes que el oponente la misma",
        correcta: "b",
        orden: 45,
        saga: "Karate Kid III"
    },
]

/////////////////Primera temporada/////////////
const arrayCobraKai = [
    {
        pregunta: "¿Cual es el apodo de Johnny Lawrence que recibe de uno de sus amigos en la pelicula Karate Kid y que ademas es el titulo de uno de los capitulos de la primera temporada?",
        a: "The hero",
        b: "Ace degenerate",
        c: "Bastard",

        orden: 1,
        temporada: 1
    },
    {
        pregunta: "¿Cual fue el motivo por el cual Johnny decide reabrir el dojo Cobra Kai?",
        a: "Para ganar dinero ya que estaba desempleado",
        b: "Para recobrar la gloria del dojo",
        c: "Para entrenar a Miguel, su vecino, y de esta manera pueda defenderse a si mismo",
        orden: 2,
        temporada: 1
    },
    {
        pregunta: "¿Cual es el trabajo que Daniel realiza en la serie?",
        a: "Contador",
        b: "Vendedor de autos en su propia concesionaria",
        c: "Abogado",
        orden: 3,
        temporada: 1
    },
    {
        pregunta: "En la escena del capitulo 2 donde Johnny maneja ebrio recordando su derrota frente a Daniel;¿Que tema musical se reproduce?",
        a: "Running Wild del grupo Airbourne",
        b: "Eye of the tiger del grupo Survivor",
        c: "Head Games del grupo Foreigner",
        orden: 4,
        temporada: 1
    },
    {
        pregunta: "¿Cual es el motivo por el cual Daniel al saber que Cobra Kai reabrío sus puertas decidio hacer todo lo necesario para poder cerrarlo",
        a: "Debido a que el tenia pensado abrir su propio dojo",
        b: "Porque el local donde Cobra Kai estaba, pertenecia a el y lo quería usar para abrir una tienda de bonsais",
        c: "Debido a que a pesar de los años, el no pudo superar los traumas que sufrio culpa de los estudiantes y senseis del dojo",
        orden: 5,
        temporada: 1
    },
    {
        pregunta: "¿Cual es el disfraz que Miguel toma prestado de Johnny para la fiesta de disfraces de la escuela?",
        a: "Deadpool",
        b: "Batman",
        c: "Esqueleto",
        orden: 6,
        temporada: 1
    },
    {
        pregunta: "¿Cual es el nombre del hijo de Johnny?",
        a: "Sean",
        b: "Robby",
        c: "Tim",
        orden: 7,
        temporada: 1
    },
    {
        pregunta: "¿Cuales son las razones que Johnny menciona para que el comite de torneos de karate vuelva a aceptar a Cobra Kai como participante?",
        a: "Con sus lecciones sus alumnos aprenden fuerza y disciplina",
        b: "Con sus lecciones, sus alumnos que son victimas de bullying puedan ganar confianza en si mismos y en su vida diaria",
        c: "Con su enseñanza sus alumnos aprenden a ayudar a las demas personas",
        orden: 8,
        temporada: 1
    },
    {
        pregunta: "¿Que animal Eli se tatua en su espalda luego de cambiar su actitud gracias al dojo Cobra Kai?",
        a: "Dragon",
        b: "Halcon",
        c: "Tigre",
        orden: 9,
        temporada: 1
    },
    {
        pregunta: "¿Quien termina ganando la final del torneo de All Valley disputado entre Johnny y Daniel como senseis?",
        a: "Eli",
        b: "Miguel",
        c: "Robby",
        orden: 10,
        temporada: 1
    },
    /////////////////Segunda temporada/////////////
    {
        pregunta: "Luego de su victoria en el torneo, Johnny se encuentra en el dojo Cobra Kai bebiendo debido a que si bien gano, no se pudo reconciliar con su hijo, En ese momento una persona no esperada entra al dojo;¿Quien era?",
        a: "Miguel",
        b: "Daniel",
        c: "John Kreese",
        orden: 11,
        temporada: 2
    },
    {
        pregunta: "¿De que manera Miguel descubre que Robby es hijo de Johnny?",
        a: "Johnny se lo cuenta",
        b: "Robby habla con el y de esta manera se entera de la verdad",
        c: "Cuando Miguel deja comida en el departamento de Johnny, este ve en el refrigerador una foto de Robby",
        orden: 12,
        temporada: 2
    },
    {
        pregunta: "¿Cual es el nombre de la segunda chica que se une al dojo Cobra Kai ademas de Aisha?",
        a: "Sharon",
        b: "Tory",
        c: "Peyton",
        orden: 13,
        temporada: 2
    },
    {
        pregunta: "Debido a ciertas sospechas, Johnny sigue a Kreese a un lugar donde este ultimo se hospeda; ¿Cual era ese lugar?",
        a: "Un refugio de personas sin hogar",
        b: "Un departamento",
        c: "Una habitación de un hotel",
        orden: 14,
        temporada: 2
    },
    {
        pregunta: "¿A que dojo Demetri(amigo de Eli) termina uniendose?",
        a: "Cobra Kai",
        b: "Miyagi do",
        c: "Topanga Karate",
        orden: 15,
        temporada: 2
    },
    {
        pregunta: "¿Cual es el tema musical que suena cuando Hawk(Eli) junto a otros miembros de Cobra Kai salen a perseguir a Demetri?",
        a: "Back in Black del grupo AC/DC",
        b: "No Shelter del grupo Broken Edge",
        c: "Stay out of Jail del grupo MotorHead",
        orden: 16,
        temporada: 2
    },
    {
        pregunta: "Durante el viaje en motocicleta en el capitulo Take a right, Johnny le cuenta a sus amigos que reabrio Cobra Kai y acepto a Kreese como compañero, pero estos(especialmente Bobby y Jimmy) le dijeron que era muy ingenuo al confiar en Kreese;¿Cual fue el motivo?",
        a: "Porque creian que Kreese era mejor sensei que Johnny",
        b: "Porque recordaban las malas actitudes de Kreese en el pasado y creian que nunca iba a cambiar",
        c: "Porque ellos querian ser los senseis de Cobra Kai junto a Johnny",
        orden: 17,
        temporada: 2
    },
    {
        pregunta: "¿Cual fue el motivo por el cual Johnny decide obligar a Kreese a que deje de enseñar en Cobra Kai?",
        a: "Porque hizo caso al consejo de Jimmy y Bobby",
        b: "Porque se dio cuenta que Kreese era mejor sensei que el",
        c: "Porque este estaba adoctrinando a los alumnos de Cobra Kai de la misma manera que el(Johnny) fue adoctrinado en los 80s cuando era alumno de Kreese",
        orden: 18,
        temporada: 2
    },
    {
        pregunta: "",
        a: "",
        b: "",
        c: "",
        orden: 19,
        temporada: 2
    },
    {
        pregunta: "",
        a: "",
        b: "",
        c: "",
        orden: 20,
        temporada: 2
    },


]
let opciones = document.getElementById("opciones");
let opcionKarateKid = document.getElementById("radioKarateKid");
let opcionKarateKidII = document.getElementById("radioKarateKidII");
let opcionKarateKidIII = document.getElementById("radioKarateKidIII");
let opcionCobraKai = document.getElementById("radioCobraKai");
let comenzar;
let pregunta;
let respuestaA;
let respuestaB;
let respuestaC;
let saga = " ";
let nuevoArray = [];
let arrayDesordenado = [];

////////Variables de tipo global para manejar el panel de preguntas////////////////////////
let botonComenzarjuego;
let nuevoPanelpreguntas;
let botonSiguientepregunta;
let preguntaTitulo;
let div1;
let radio1;
let label1;
let div2;
let radio2;
let label2;
let div3;
let radio3;
let label3;
let contPregunta = 0;
let arrayTransformado
/////////////////////////////////////////

//Clase para calcular el puntaje
class CuestionarioKarateKidCobraKai {
    constructor(nombreJugador, puntaje) {
        this.nombreJugador = nombreJugador;
        this.puntaje = puntaje;
    }
    /*constructor(puntaje) {
        this.puntaje = puntaje;

    }*/

    calcularPuntaje = () => {

        this.puntaje++;
        /*alert(`el puntaje es de ${this.puntaje}`);*/
        return this.puntaje;
    }
}



opcionKarateKid.addEventListener("click", (e) => {
    localStorage.clear();
    // console.log(e.target);
    //console.log(e.target.value);
    /*saga = "Karate Kid";

    opciones.innerText = saga;*/
    let sagas = e.target.value;
    filtrarPreguntas(sagas);

});



opcionKarateKidII.addEventListener("click", (e) => {

    localStorage.clear();
    /*saga = "Karate Kid II";
    opciones.innerText = saga;*/
    let sagas = e.target.value
    filtrarPreguntas(sagas);


});


opcionKarateKidIII.addEventListener("click", (e) => {
    localStorage.clear();
    let sagas = e.target.value
    filtrarPreguntas(sagas);
})

const arrayPreguntas = (parametroArray) => {
    let resultado = parametroArray.sort(function () { return Math.random() - 0.5 });
    return resultado;
}
function filtrarPreguntas(saga) {
    if (saga == "Karate Kid") {    
        arrayTransformado=arrayKarateKidpregunta.
        filter((elemento) => elemento.saga == "Karate Kid");
        localStorage.setItem("Karate Kid",JSON.stringify(arrayTransformado));
        nuevoArray=JSON.parse(localStorage.getItem("Karate Kid"))
        arrayDesordenado = arrayPreguntas(nuevoArray);

    } else if (saga == "Karate Kid II") {
        arrayTransformado=arrayKarateKidpregunta.
        filter((elemento) => elemento.saga == "Karate Kid II");
        localStorage.setItem("Karate Kid II",JSON.stringify(arrayTransformado));
        nuevoArray=JSON.parse(localStorage.getItem("Karate Kid II"))
        arrayDesordenado = arrayPreguntas(nuevoArray)
    } else if (saga == "Karate Kid III") {
        arrayTransformado=arrayKarateKidpregunta.
        filter((elemento) => elemento.saga == "Karate Kid III");
        localStorage.setItem("Karate Kid III",JSON.stringify(arrayTransformado));
        nuevoArray=JSON.parse(localStorage.getItem("Karate Kid III"))
        arrayDesordenado = arrayPreguntas(nuevoArray)
    }

}
//Funcion para ocultar el panel por defecto de Bootstrap. 
let ocultarPanel = () => {
    let panel = document.querySelector("#panelPreguntas");
    let pregunta = document.querySelector(".card");
    panel.removeChild(pregunta);
}

ocultarPanel();

//Funcion para crear el boton de Inicio antes de entrar al juego
let botonInicio = () => {
    botonComenzarjuego = document.createElement("button");
    

    botonComenzarjuego.setAttribute("id", "nuevoBoton");
    botonComenzarjuego.innerHTML = "Comenzar juego";
    let botonInicio = document.getElementById("panelPreguntas");
    botonComenzarjuego.classList.add('d-flex', 'justify-content-center', 'mb-4', 'mt-4', 'start', "colorBoton");
    botonInicio.classList.add('d-flex', 'justify-content-center', 'mb-0');
    botonInicio.append(titulos);
}
botonInicio();

//Función para crear el panel de pregunta y respuestas junto con el boton que permite avanzar de pregunta
let crearPanelpreguntas = (boton, panelPadre, jugador1) => {
    /*let panelPadre=document.getElementById("panelPreguntas");*/
    panelPadre.removeChild(boton);
    nuevoPanelpreguntas = document.createElement("DIV");
    nuevoPanelpreguntas.setAttribute("id", "preguntas");
    nuevoPanelpreguntas.classList.add('card');
    panelPadre.append(nuevoPanelpreguntas);
    preguntaTitulo = document.createElement("p")
    preguntaTitulo.setAttribute("id", "titulo");
    nuevoPanelpreguntas.append(preguntaTitulo);

    for (j = 0; j < 3; j++) {
        switch (j) {
            case 0:
                div1 = document.createElement("DIV");
                div1.classList.add("form-check")
                nuevoPanelpreguntas.append(div1);
                radio1 = document.createElement("input");
                radio1.setAttribute("id", "opcion1");
                radio1.setAttribute("type", "radio");
                radio1.setAttribute("name", "flexRadioDefault");
                radio1.setAttribute("value", "a");
                radio1.classList.add("form-check-input");
                div1.append(radio1);
                label1 = document.createElement("label");
                label1.setAttribute("id", "opcionA")
                label1.classList.add("form-check-label");
                div1.append(label1);

                break;
            case 1:
                div2 = document.createElement("DIV");
                div2.classList.add("form-check")
                nuevoPanelpreguntas.append(div2);
                radio2 = document.createElement("input");
                radio2.setAttribute("id", "opcion2");
                radio2.setAttribute("type", "radio");
                radio2.setAttribute("name", "flexRadioDefault");
                radio2.setAttribute("value", "b");
                radio2.classList.add("form-check-input");
                div2.append(radio2);
                label2 = document.createElement("label");
                label2.setAttribute("id", "opcionB")
                label2.classList.add("form-check-label");
                div2.append(label2);
                break;
            case 2:
                div3 = document.createElement("DIV");
                div3.classList.add("form-check")
                nuevoPanelpreguntas.append(div3);
                radio3 = document.createElement("input");
                radio3.setAttribute("id", "opcion3");
                radio3.setAttribute("type", "radio");
                radio3.setAttribute("name", "flexRadioDefault");
                radio3.setAttribute("value", "c");
                radio3.classList.add("form-check-input");
                div3.append(radio3);
                label3 = document.createElement("label");
                label3.setAttribute("id", "opcionC")
                label3.classList.add("form-check-label");
                div3.append(label3);
                break;
            default:
                break;
        }

    }

    let botonAvancepregunta = crearbotonSiguientepregunta(botonSiguientepregunta, nuevoPanelpreguntas);

    funcionAvancepreguntas(botonAvancepregunta, jugador1);

}
//Función para deseleccionar las respuestas una vez que se avanza de pregunta
function unselect() {
    document.querySelectorAll('[name=flexRadioDefault]').forEach((respuestaSeleccionada) => respuestaSeleccionada.checked = false);
}
// Esta es la función más importante ya que se encarga de avanzar las preguntas como asi tambien calcular el puntaje de cada jugador
const funcionAvancepreguntas = (botonSiguiente, jugadorNuevo) => {
    let prueba;
    let resultadoFinal1 = 0;


    botonSiguiente.addEventListener("click", () => {
        if (!document.querySelector('input[id="opcion1"]:checked') && !document.querySelector('input[id="opcion2"]:checked') && !document.querySelector('input[id="opcion3"]:checked')) {
            let informacion="Debe seleccionar una respuesta";
            modalPregunta(informacion);
        } else {
            if (document.querySelector('input[id="opcion1"]:checked')) {
                prueba = "a";
            } else if (document.querySelector('input[id="opcion2"]:checked')) {
                prueba = "b";
            } else if (document.querySelector('input[id="opcion3"]:checked')) {
                prueba = "c";
            }
            if (contPregunta == 0) {
           

                if (arrayDesordenado[contPregunta].correcta == prueba) {
                    resultadoFinal1 = jugadorNuevo.calcularPuntaje();
                    console.log(resultadoFinal1);

                }
                preguntaTitulo.innerText = arrayDesordenado[contPregunta].pregunta
                label1.innerText = arrayDesordenado[contPregunta].a
                label2.innerText = arrayDesordenado[contPregunta].b
                label3.innerText = arrayDesordenado[contPregunta].c

            }
            if (contPregunta <= 14 && contPregunta != 0) {

                if (document.querySelector('input[id="opcion1"]:checked')) {
                    prueba = "a";
                } else if (document.querySelector('input[id="opcion2"]:checked')) {
                    prueba = "b";
                } else if (document.querySelector('input[id="opcion3"]:checked')) {
                    prueba = "c";
                }

                if (arrayDesordenado[contPregunta].correcta == prueba) {

                    resultadoFinal1 = jugadorNuevo.calcularPuntaje();
                }




            }
            if (contPregunta != 14) {
                contPregunta++;
                preguntaTitulo.innerText = arrayDesordenado[contPregunta].pregunta
                label1.innerText = arrayDesordenado[contPregunta].a
                label2.innerText = arrayDesordenado[contPregunta].b
                label3.innerText = arrayDesordenado[contPregunta].c
                unselect();
            } else {
                localStorage.removeItem(jugadorNuevo.nombreJugador);
                localStorage.setItem(jugadorNuevo.nombreJugador,jugadorNuevo.puntaje);
                crearPuntajeRespuestas(jugadorNuevo.puntaje);
                let botonRecargapagina = document.getElementById("botonRecarga");
                botonRecargapagina.addEventListener("click", () => {
                    location.reload();
                })

            }
        }
    });
}

//Boton que se encarga de empezar el juego mostrando la primera pregunta del array filtrado por saga
botonComenzarjuego.addEventListener("click", (e) => {
    let nombreVerificar = "^[ a-zA-ZñÑáéíóúÁÉÍÓÚ]+$";
    let campoNombre = document.getElementById("textoNombre").value;

    if (document.querySelector('input[id="radioKarateKidII"]:checked') || document.querySelector('input[id="radioKarateKid"]:checked') || document.querySelector('input[id="radioKarateKidIII"]:checked') && campoNombre != '') {
        if (campoNombre != '') {
            if (campoNombre.match(nombreVerificar)) {
                document.getElementById("opciones").style.display = 'none';
                document.getElementById("contenedor").style.display = 'none';
                document.getElementById("ingresoNombre").style.display = 'none';

                filtrarPreguntas();
                // console.log(nuevoArray);
                let panel = document.getElementById("panelPreguntas");

                let boton = document.getElementById("nuevoBoton");

                jugadores = new CuestionarioKarateKidCobraKai(campoNombre,0);
                
                localStorage.setItem(jugadores.nombreJugador,jugadores.puntaje);
                // console.log(jugadores);
                crearPanelpreguntas(boton, panel, jugadores);

                preguntaTitulo.innerText = nuevoArray[contPregunta].pregunta
                label1.innerText = nuevoArray[contPregunta].a
                label2.innerText = nuevoArray[contPregunta].b
                label3.innerText = nuevoArray[contPregunta].c
                nuevoArray
            } else {
                textoModal = "Debe ingresar su nombre sin numeros o signos que no sean acentos";
                modalPregunta(textoModal);
            }

        } else {
            textoModal="Debe ingresar su nombre";
            modalPregunta(textoModal);
        }



    } else if (campoNombre != '' && !document.querySelector('input[id="radioKarateKidII"]:checked') && !document.querySelector('input[id="radioKarateKid"]:checked') && !document.querySelector('input[id="radioKarateKidIII"]:checked')) {
        textoModal="Debe seleccionar una opción";
        modalPregunta(textoModal)
      
    } else {
       textoModal="Debe seleccionar una opción e ingresar su nombre";
      modalPregunta(textoModal);
     
    }

})
// Funcion para mostrar un mensaje en caso de que se produzca algun error como por ejemplo, dejar opciones sin seleccionar o campos vacios o con valores incorrectos
let modalPregunta=(texto)=>{
    Swal.fire({
        position: 'top',
        icon:'warning',
        title:"ATENCIÓN!!!✋",
        text:texto,
        allowOutsideClick:false,
        cancelButtonAriaLabel: 'Ok'
    })
}
//Funcion que crea el boton de avanzar de pregunta
let crearbotonSiguientepregunta = (boton, panel) => {
    boton = document.createElement("button");
    boton.setAttribute("type", "button");
    boton.setAttribute("id", "comenzarJuego");
    boton.classList.add("start");
    boton.innerText = "Siguiente Pregunta";
    panel.append(boton);
    return boton;
}
////////Funcion para crear el panel de puntaje junto con el boton utilizado para volver a cargar la pagina para jugar de nuevo
let crearPuntajeRespuestas = (puntaje) => {
    let panelPadrepreguntas = document.getElementById("panelPreguntas")
    let paneldePreguntas = document.getElementById("preguntas");
    paneldePreguntas.style.display = 'none';
    let panelPuntaje = document.createElement("DIV");
    panelPuntaje.classList.add("puntaje", "d-flex", "justify-content-center");
    panelPuntaje.setAttribute("id","divPuntaje");
    panelPadrepreguntas.append(panelPuntaje);
    let textoPuntaje = document.createElement("h6");
    textoPuntaje.setAttribute("id","puntajeTotal");
    textoPuntaje.innerText = `Tu puntaje es de ${puntaje}`;
    panelPuntaje.append(textoPuntaje);
    let botonRecargarJuego = document.createElement("button");
    botonRecargarJuego.setAttribute("type", "button");
    botonRecargarJuego.setAttribute("id", "botonRecarga");
    botonRecargarJuego.classList.add('d-flex', 'justify-content-center', 'mb-4', 'mt-4', "colorBoton");
    botonRecargarJuego.innerText = "Volver a jugar";
    panelPuntaje.append(botonRecargarJuego);
}
//hacer una funcion agregandole a cada input de los radios de respuesta un value con la letra (a,b,c) para compararlo con una propiedad llamada correcta en cada objeto del array de preguntas y respuestas de karate kid









